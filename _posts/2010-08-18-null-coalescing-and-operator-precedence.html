---
layout: post
status: publish
published: true
title: 'Null-coalescing and operator precedence'
author_login: admin
author_email: llysik@gmail.com
wordpress_id: 46
wordpress_url: http://programmer.lysik.pl/?p=46
date: '2010-08-18 13:36:31 +0100'
date_gmt: '2010-08-18 11:36:31 +0100'
categories:
- C#
tags:
- operators
- precedence
- isnull
comments: []
---
<p>Today I encountered some problem. In one application two values were to be subtracted. In the source code I've found statement:</p>

{% highlight csharp %}
return Value1 ?? 0 - Value2 ?? 0;
{% endhighlight %}

<p>what is wrong with it? The answer is: <a href="http://msdn.microsoft.com/en-us/library/6a71f45d.aspx">opertor precedence</a>!
The <a href="http://stackoverflow.com/questions/446835/what-do-two-question-marks-together-mean-in-c">null-coalescing (??)</a>
operator has lower precedence than subtraction operator. The correct code is of course:</p>

{% highlight csharp %}
return (Value1 ?? 0) - (Value2 ?? 0);
{% endhighlight %}
